(this.webpackJsonppiano=this.webpackJsonppiano||[]).push([[0],{14:function(n,e,t){},15:function(n,e,t){},30:function(n,e,t){"use strict";t.r(e);var a=t(0),o=t.n(a),c=t(7),r=t.n(c),i=(t(14),t(15),t(2)),u=t(1),s=t(5),l=function(n,e){return Object.keys(n).filter((function(t){return n[t]===e}))},f=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],d=[1,2,3,4,5,6,7].reduce((function(n,e){var t=f.map((function(n){return"".concat(n).concat(e)}));return[].concat(Object(i.a)(n),Object(i.a)(t))}),[]),y=function(n){return d.includes(n)&&n.includes("#")};var m=t(8),p=t.n(m),g=window.AudioContext||window.webkitAudioContext,b={stop:function(){}},v={play:function(){return b}},E=function(){var n=g&&new g,e=v;return{setInstrument:function(t){p.a.instrument(n,t).then((function(n){e=n})).catch((function(n){e=v}))},playNote:function(n){return e.play(n)}}},O=function(n){var e=n.instrumentName,t=n.notes,o=Object(a.useState)(null),c=Object(s.a)(o,2),r=c[0],i=c[1];Object(a.useEffect)((function(){i(E)}),[]),Object(a.useEffect)((function(){r&&(u(),l())}),[r]),Object(a.useEffect)((function(){t&&t.length>0&&l()}),[t]);var u=function(){r.setInstrument(e)},l=function(){r&&r.playNote(t[0])};return null},N=function(n){return!n.ctrlKey&&!n.metaKey&&!n.shiftKey},j=function(n){var e=n.instrumentName,t=n.startNote,c=n.endNote,r=n.renderPianoKey,f=n.keyboardMap,m=function(n,e){var t=d.indexOf(n),a=d.lastIndexOf(e);return d.slice(t,a+1)}(t,c),p=Object(a.useState)({notesPlaying:[]}),g=Object(s.a)(p,2),b=g[0],v=g[1];Object(a.useEffect)((function(){window.addEventListener("keydown",j),window.addEventListener("keyup",P)}),[]);var E=function(n){return f[n.toUpperCase()]},j=function(n){if(N(n)&&!n.repeat){var e=E(n.key);e&&v(Object(u.a)(Object(u.a)({},b),{},{notesPlaying:[].concat(Object(i.a)(b.notesPlaying),[e])}))}},P=function(n){if(N(n)&&!n.repeat){var e=E(n.key);e&&v(Object(u.a)(Object(u.a)({},b),{},{notesPlaying:b.notesPlaying.filter((function(n){return n!==e}))}))}};return o.a.createElement(a.Fragment,null,m.map((function(n){return o.a.createElement(a.Fragment,{key:n},r({note:n,isAccidentalNote:y(n),isNotePlaying:b.notesPlaying.includes(n),startPlayingNote:function(){return function(n){v(Object(u.a)(Object(u.a)({},b),{},{notesPlaying:[].concat(Object(i.a)(b.notesPlaying),[n])}))}(n)},stopPlayingNote:function(){return function(n){v(Object(u.a)(Object(u.a)({},b),{},{notesPlaying:b.notesPlaying.filter((function(e){return e!==n}))}))}(n)},keyboardShortcut:l(f,n)}))})),o.a.createElement(O,{instrumentName:e,notes:b.notesPlaying}))},P=function(){var n=function(n){var e=n.isPlaying,t=n.text,a=n.eventHandlers;return o.a.createElement("div",{className:"piano-accidental-key-wrapper"},o.a.createElement("button",Object.assign({className:"piano-accidental-key ".concat(e?"piano-accidental-key-playing":"")},a),o.a.createElement("div",{className:"piano-text"},t)))},e=function(n){var e=n.isPlaying,t=n.text,a=n.eventHandlers;return o.a.createElement("button",Object.assign({className:"piano-natural-key ".concat(e?"piano-natural-key-playing":"","\n\t\t")},a),o.a.createElement("div",{className:"piano-text"},t))};return o.a.createElement("div",{className:"piano-container"},o.a.createElement(j,{instrumentName:"acoustic_grand_piano",startNote:"C3",endNote:"B5",renderPianoKey:function(t){var a=t.isAccidentalNote,c=t.isNotePlaying,r=t.startPlayingNode,i=t.stopPlayingNode,u=t.keyboardShortcut,s=a?n:e,l={onMouseDown:r,onMouseUp:i,onTouchStart:r,onTouchEnd:i,onMouseOut:i};return o.a.createElement(s,{notePlaying:c,text:u.join("/"),eventHandlers:l})},keyboardMap:{Q:"C3",2:"C#3",W:"D3",3:"D#3",E:"E3",R:"F3",5:"F#3",T:"G3",6:"G#3",Y:"A3",7:"A#3",U:"B3",I:"C4",9:"C#4",O:"D4",0:"D#4",P:"E4",Z:"F4",S:"F#4",X:"G4",D:"G#4",C:"A4",F:"A#4",V:"B4",B:"C5",H:"C#5",N:"D5",J:"D#5",M:"E5",",":"F5",L:"F#5",".":"G5",";":"G#5","/":"A5","'":"A#5",A:"B5"}}))};var w=function(){return o.a.createElement("div",{className:"app-container"},o.a.createElement(P,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))},9:function(n,e,t){n.exports=t(30)}},[[9,1,2]]]);
//# sourceMappingURL=main.b6679ee5.chunk.js.map